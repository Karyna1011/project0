package token

import (
	"context"
	"gitlab.com/tokend/subgroup/project/internal/config"
)

const myABI = "[{\"anonymous\": false,\"inputs\": [{\"indexed\": false,\"internalType\": \"address\",\"name\": \"_userAddr\",\"type\": \"address\"},{\"indexed\": false,\"internalType\": \"bytes32\",\"name\": \"_assetKey\",\"type\": \"bytes32\" },{\"indexed\": false,\"internalType\": \"uint256\",\"name\": \"_repaidAmount\",\"type\": \"uint256\"}],\"name\": \"BorrowRepaid\",\"type\": \"event\" },{\"anonymous\": false, \"inputs\": [ {\"indexed\": false, \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" },{\"indexed\": false,\"internalType\": \"uint256\",\"name\": \"_borrowedAmount\",\"type\": \"uint256\"} ], \"name\": \"Borrowed\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": false, \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"uint256\", \"name\": \"_rewardAmount\", \"type\": \"uint256\" } ], \"name\": \"DistributionRewardWithdrawn\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"_paramKey\", \"type\": \"bytes32\" }, { \"indexed\": false, \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"uint256\", \"name\": \"_amount\", \"type\": \"uint256\" } ], \"name\": \"LiquidateBorrow\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"_paramKey\", \"type\": \"bytes32\" }, { \"indexed\": false, \"internalType\": \"address\", \"name\": \"_liquidatorAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"uint256\", \"name\": \"_amount\", \"type\": \"uint256\" } ], \"name\": \"LiquidatorPay\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": false, \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"indexed\": false, \"internalType\": \"uint256\", \"name\": \"_liquidityAmount\", \"type\": \"uint256\" } ], \"name\": \"LiquidityAdded\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [ { \"indexed\": false, \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"indexed\": false, \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"indexed\": false, \"internalType\": \"uint256\", \"name\": \"_liquidityAmount\", \"type\": \"uint256\" } ], \"name\": \"LiquidityWithdrawn\", \"type\": \"event\" }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"\", \"type\": \"address\" }, {\"internalType\": \"bytes32\",\"name\": \"\",\"type\": \"bytes32\"}],\"name\": \"disabledCollateralAssets\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"stateMutability\": \"view\",\"type\": \"function\",\"constant\": true},{\"inputs\": [],\"name\": \"injector\",\"outputs\": [{\"internalType\": \"address\",\"name\": \"_injector\",\"type\": \"address\"}],\"stateMutability\": \"view\",\"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_injector\", \"type\": \"address\" } ], \"name\": \"setInjector\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"contract Registry\", \"name\": \"_registry\", \"type\": \"address\" } ], \"name\": \"setDependencies\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" } ], \"name\": \"isCollateralAssetEnabled\", \"outputs\": [ { \"internalType\": \"bool\", \"name\": \"\", \"type\": \"bool\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address[]\", \"name\": \"_accounts\", \"type\": \"address[]\" } ], \"name\": \"getLiquidiationInfo\", \"outputs\": [ { \"components\": [ { \"internalType\": \"bytes32[]\", \"name\": \"borrowAssetKeys\", \"type\": \"bytes32[]\" }, { \"internalType\": \"bytes32[]\", \"name\": \"supplyAssetKeys\", \"type\": \"bytes32[]\" }, { \"internalType\": \"uint256\", \"name\": \"totalBorrowedAmount\", \"type\": \"uint256\" } ], \"internalType\": \"struct IDefiCore.LiquidationInfo[]\", \"name\": \"_resultArr\", \"type\": \"tuple[]\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"internalType\": \"bytes32\", \"name\": \"_borrowAssetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"bytes32\", \"name\": \"_receiveAssetKey\", \"type\": \"bytes32\" } ], \"name\": \"getUserLiquidationInfo\", \"outputs\": [ { \"components\": [ { \"internalType\": \"uint256\", \"name\": \"borrowAssetPrice\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"receiveAssetPrice\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"bonusReceiveAssetPrice\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"borrowedAmount\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"supplyAmount\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"maxQuantity\", \"type\": \"uint256\" } ], \"internalType\": \"struct IDefiCore.UserLiquidationInfo\", \"name\": \"_liquidationInfo\", \"type\": \"tuple\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" } ], \"name\": \"getTotalSupplyBalanceInUSD\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"_totalSupplyBalance\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" } ], \"name\": \"getTotalBorrowBalanceInUSD\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"_totalBorrowBalance\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" } ], \"name\": \"getCurrentBorrowLimitInUSD\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"_currentBorrowLimit\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_tokensAmount\", \"type\": \"uint256\" }, { \"internalType\": \"bool\", \"name\": \"_isAdding\", \"type\": \"bool\" } ], \"name\": \"getNewBorrowLimitInUSD\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" } ], \"name\": \"getAvailableLiquidity\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" } ], \"name\": \"getUserDistributionRewards\", \"outputs\": [ { \"components\": [ { \"internalType\": \"address\", \"name\": \"assetAddr\", \"type\": \"address\" }, { \"internalType\": \"uint256\", \"name\": \"distributionReward\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"distributionRewardInUSD\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"userBalance\", \"type\": \"uint256\" }, { \"internalType\": \"uint256\", \"name\": \"userBalanceInUSD\", \"type\": \"uint256\" } ], \"internalType\": \"struct IDefiCore.RewardsDistributionInfo\", \"name\": \"\", \"type\": \"tuple\" } ], \"stateMutability\": \"view\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" } ], \"name\": \"updateCompoundRate\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" } ], \"name\": \"enableCollateral\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" } ], \"name\": \"disableCollateral\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_liquidityAmount\", \"type\": \"uint256\" } ], \"name\": \"addLiquidity\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_liquidityAmount\", \"type\": \"uint256\" }, { \"internalType\": \"bool\", \"name\": \"_isMaxWithdraw\", \"type\": \"bool\" } ], \"name\": \"withdrawLiquidity\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_borrowAmount\", \"type\": \"uint256\" }, { \"internalType\": \"address\", \"name\": \"_delegatee\", \"type\": \"address\" }, { \"internalType\": \"uint256\", \"name\": \"_expectedAllowance\", \"type\": \"uint256\" } ], \"name\": \"approveToDelegateBorrow\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_borrowAmount\", \"type\": \"uint256\" } ], \"name\": \"borrow\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_borrowAmount\", \"type\": \"uint256\" }, { \"internalType\": \"address\", \"name\": \"_borrowerAddr\", \"type\": \"address\" } ], \"name\": \"delegateBorrow\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_borrowAmount\", \"type\": \"uint256\" }, { \"internalType\": \"address\", \"name\": \"_recipientAddr\", \"type\": \"address\" } ], \"name\": \"borrowFor\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_repayAmount\", \"type\": \"uint256\" }, { \"internalType\": \"bool\", \"name\": \"_isMaxRepay\", \"type\": \"bool\" } ], \"name\": \"repayBorrow\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"bytes32\", \"name\": \"_assetKey\", \"type\": \"bytes32\" }, { \"internalType\": \"uint256\", \"name\": \"_repayAmount\", \"type\": \"uint256\" }, { \"internalType\": \"address\", \"name\": \"_recipientAddr\", \"type\": \"address\" } ], \"name\": \"delegateRepayBorrow\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [ { \"internalType\": \"address\", \"name\": \"_userAddr\", \"type\": \"address\" }, { \"internalType\": \"bytes32\", \"name\": \"_supplyAssetKey\", \"type\": \"bytes32\"},{\"internalType\": \"bytes32\",\"name\": \"_borrowAssetKey\",\"type\": \"bytes32\"},{\"internalType\": \"uint256\",\"name\": \"_liquidationAmount\",\"type\": \"uint256\"}],\"name\": \"liquidation\",\"outputs\": [],\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"inputs\": [{\"internalType\": \"bytes32\",\"name\": \"_assetKey\",\"type\": \"bytes32\"}],\"name\": \"claimPoolDistributionRewards\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"_reward\",\"type\": \"uint256\"}],\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"inputs\": [],\"name\": \"claimDistributionRewards\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"_totalReward\",\"type\": \"uint256\"}],\"stateMutability\": \"nonpayable\",\"type\": \"function\"}]"

func (s *Service) Run(cfg config.Config, ctx context.Context) {
	/*s.log.Info("Running checker service")





	contractAbi, err := abi.JSON(strings.NewReader(myABI))
	if err != nil {
		s.log.Error("failed to parse contract ABI")
		return
	}

	var Contract = bind.NewBoundContract(
		common.HexToAddress(s.contractAddress.Address),
		contractAbi,
		s.eth,
		s.eth,
		s.eth,
	)

	d := time.NewTicker(cfg.TransferConfig().Time)

	for {
		select {
		case _ = <-d.C:

	}*/
}
